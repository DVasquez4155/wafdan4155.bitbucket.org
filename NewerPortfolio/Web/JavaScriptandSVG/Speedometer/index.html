<!DOCTYPE html>
<!--
Portfolio - December 14, 2016
By Daniel Vasquez
-->
<html>
    <head id='head'>
        <title id='title'>JavaScript</title>
        <style>
            body  {
                background-color: #010f20;
            }
        </style>
        <script src='../../../contents/headerandfooter.js'></script>
        <script>
            var currentSite = 'web';
            var currentsite = 'Speed';
        </script>
    </head>
    <body>
        <header id='header'></header>
        <div id='links'></div>

        <div class='body'>
            <h1 id='h1Title' class='title dark'>JavaScript</h1>
            <div id="container">
                <button id='doit'>Do it</button>
                <p></p>
                <br />
                <svg width='600' height='400' xmlns="http://www.w3.org/2000/svg"
                  viewbox='0 0 600 400'
                  xmlns:xlink= "http://www.w3.org/1999/xlink">
                    <rect x='0' y='0' width='600' height='400' fill='beige'/>
                    <defs>
                        <clipPath id='clip'>
                            <polygon points='0 0 0 179 300 350 600 179 600 0 z'/>
                        </clipPath>
                    </defs>
                    <!--Shapes-->
                    <!--Big Circle and Tick Marks-->
                    <circle clip-path='url(#clip)' cx='300' cy='350' r='250' fill='white' stroke='#2146ff' />

                    <polyline id="k12" points='300 100 300 85' stroke='#2146ff'/>
                    <g id='k123'>
                        <use xlink:href='#k12' transform='rotate(10 300 350)' />
                        <use xlink:href='#k12' transform='rotate(20 300 350)' />
                        <use xlink:href='#k12' transform='rotate(30 300 350)' />
                    </g>
                    <use xlink:href='#k123' transform='rotate(30 300 350)' />
                    <use xlink:href='#k123' transform='rotate(-40 300 350)' />
                    <use xlink:href='#k123' transform='rotate(-70 300 350)' />

                    <!--Minor tick marks-->
                    <g id='minor1'>
                        <polyline points='300 100 300 92.5' stroke='#4253f4' transform='rotate(2 300 350)' />
                        <polyline points='300 100 300 92.5' stroke='#4253f4' transform='rotate(4 300 350)' />
                        <polyline points='300 100 300 92.5' stroke='#4253f4' transform='rotate(6 300 350)' />
                        <polyline points='300 100 300 92.5' stroke='#4253f4' transform='rotate(8 300 350)' />
                    </g>
                    <g id='minor2'>
                        <use xlink:href='#minor1' transform='rotate(10 300 350)' />
                        <use xlink:href='#minor1' transform='rotate(20 300 350)' />
                        <use xlink:href='#minor1' transform='rotate(30 300 350)' />
                    </g>
                    <use xlink:href='#minor2' transform='rotate(20 300 350)' />
                    <use xlink:href='#minor2' transform='rotate(-40 300 350)' />
                    <use xlink:href='#minor2' transform='rotate(-70 300 350)' />

                    <!--Numbers-->
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-60 300 350)'>0</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-50 300 350)'>10</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-40 300 350)'>20</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-30 300 350)'>30</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-20 300 350)'>40</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(-10 300 350)'>50</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff'>60</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(10 300 350)'>70</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(20 300 350)'>80</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(30 300 350)'>90</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(40 300 350)'>100</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(50 300 350)'>110</text>
                    <text text-anchor="middle" x="300" y="75" fill='#2146ff' transform='rotate(60 300 350)'>120</text>

                    <!--Needle and Rivet-->
                    <g id='needle'>
                        <polygon points='300 350 290 350 300 120 z' fill='#4253f4'/>
                        <polygon points='300 350 310 350 300 120 z' fill='#4253ff'/>

                        <circle cx='300' cy='350' r='15' fill='#2146ff' stroke='#2146ff' />
                        <circle cx='300' cy='350' r='7' fill='black' stroke='black' />
                    </g>

                </svg>
            </div>
        </div>

        <footer id='footer'></footer>
        <script>
            var current = 75;
            var target;
            function setNeedle (n) {
                var trans = n - 60;
                document.getElementById('needle').setAttribute ('transform', "rotate(" + trans + " 300 350)")
                current = n;
            }
            var mySound = new Audio('mk.mp3');
            setNeedle(75);
            
            document.getElementById('doit').onclick = function(e) {
                var n = Math.floor(Math.random() * 120);
                //setNeedle(n);
                target = n;
                animate();
            }
            
            function animate() {
            mySound.play();
                
                if (current > target) {
                    setNeedle (current-1)
                } else if (current < target) {
                    setNeedle (current+1)
                } else {
                    
                    return
                }
                
                setTimeout (animate, 12)
            }
        </script>
    </body>

</html>